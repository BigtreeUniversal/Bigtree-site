
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Test API CoinGecko</title>
  <style>
    body { font-family: sans-serif; padding: 2rem; background: #f8f8f8; text-align: center; }
    h1 { font-size: 1.5rem; }
    .value { font-size: 1.25rem; margin-top: 1rem; }
    .error { color: red; font-weight: bold; }
  </style>
</head>
<body>
  <h1>Test API CoinGecko</h1>
  <div id="price" class="value">Prix BTC : ...</div>
  <div id="delta" class="value">Delta 24h : ...</div>
  <div id="volume" class="value">Volume du marché : ...</div>
  <div id="error" class="error"></div>

  <script>
    async function getBTCInfo() {
      try {
        const res = await fetch('https://api.coingecko.com/api/v3/coins/bitcoin');
        if (!res.ok) throw new Error("Réponse API invalide");
        const data = await res.json();
        document.getElementById('price').textContent = "Prix BTC : " + data.market_data.current_price.usd + " $";
        document.getElementById('delta').textContent = "Delta 24h : " + data.market_data.price_change_percentage_24h.toFixed(2) + " %";
        document.getElementById('volume').textContent = "Volume du marché : " + data.market_data.total_volume.usd.toLocaleString() + " $";
      } catch (e) {
        document.getElementById('error').textContent = "❌ Erreur : " + e.message;
      }
    }

    getBTCInfo();
  </script>
</body>
</html>
